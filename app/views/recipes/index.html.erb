
<div class="page-header">

	<h1>Bibliothèque</h1>

</div>

<div class="row">


	<div id="recipe-search-tools">
		
		<ul class="nav nav-pills" >
			<li><%= link_to 'Toutes', recipes_path %></li>
			<% Recipe.types.each do |type| %>
				<li><%= link_to type, recipes_path(type: type) %></li>
			<% end %>
		</ul>


		<div class="btn-group">

			<button id="filter" type="button" class="btn btn-default"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Recherche</button>

			<!-- Vider mon frigo -->
			<%= link_to recipes_shuffle_path, class: "btn btn-default" do %>
				<span class="glyphicon glyphicon-piggy-bank" aria-hidden="true"></span> Vider mon frigo
			<% end %>

			<!-- Recette au hasard -->
			<%= link_to recipes_shuffle_path, class: "btn btn-default" do %>
				<span class="glyphicon glyphicon-random" aria-hidden="true"></span> Recette au hasard
			<% end %>

			<!-- Ajouter un recette -->
			<%= link_to new_recipe_path, class: "btn btn-default" do %>
				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Ajouter un recette
			<% end %>
		</div>


	</div>
</div>





<div class="row">


		<%= form_tag  recipes_path , method: "GET", id: "search_recipe_form" , class: 'form-inline' do  %>

				<div class="form-group">
					<%= label_tag  'Titre', nil, class: 'sr-only' %>
					<%= text_field_tag 'name' , params[:name], placeholder: "Titre", class: "form-control"  %>
				</div>

				<div class="form-group">
					<%= label_tag  'Ingrédients', nil, class: 'sr-only' %>
					<%= text_field_tag 'ingredients' , params[:ingredients] , placeholder: "Ingrédient" , class: "form-control"  %>
				</div>

				<div class="form-group">
					<%= label_tag  'Type', nil, class: 'sr-only' %>
					<%= select_tag "type",
						options_for_select(Recipe.types , params[:type]),
						class: "form-control"  %>
				</div>

				<div class="form-group">
					<%= label_tag  'Saison', nil, class: 'sr-only' %>
					<%= select_tag "season",
						options_for_select( Recipe.seasons, params[:season]),
						class: "form-control"  %>
				</div>


				<div class="form-group">	
					<%= submit_tag "go!", class: "btn btn-primary btn-lg"%>
				</div>

		<% end %>

</div>

<div class="row">
	<%= render 'shared/recipes' , :recipes => @recipes %>
</div>

<div class="row">
	<div class="col-xs-12">
		<%= will_paginate @recipes , renderer: BootstrapPagination::Rails, class: "pagination" %>
		
	</div>
</div>



<div class="row alert alert-info" role="alert">Trop de choix? Trouvez des <%= link_to "recettes avec ce qu'il vous reste dans votre frigo" , fridge_path, class: 'alert-link' %> ou bien laissez vous tenter par <%= link_to "une recette au hasard" , recipes_shuffle_path, class: 'alert-link' %></div>

	

<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function(event) { 
		$('#filter').on('click', function(e){
			e.preventDefault();
			$("#search_recipe_form").slideToggle();
		})
	});
</script>